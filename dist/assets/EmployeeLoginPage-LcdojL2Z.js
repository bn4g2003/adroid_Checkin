import{u as y,r as l,j as e}from"./index-V-x1CcZ_.js";import{c as v,u as w,U as m,g as j}from"./useToast-C0bm4l8s.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],S=v("lock",N);function L(){const p=y(),{addToast:s}=w(),[a,u]=l.useState(""),[n,x]=l.useState(""),[i,c]=l.useState(!1),g=async t=>{t.preventDefault(),c(!0);try{const{database:o,ref:b,get:f}=await j(),h=b(o,`employees/${a.toUpperCase()}`),d=await f(h);if(d.exists()){const r=d.val();(r.password||"123456")===n?r.active!==!1?(localStorage.setItem("employeeSessionId",a.toUpperCase()),localStorage.setItem("employeeSessionName",r.fullName),s({type:"success",message:`Welcome, ${r.fullName}!`}),p("/")):s({type:"error",message:"Your account is inactive. Please contact HR."}):s({type:"error",message:"Invalid password."})}else s({type:"error",message:"Employee ID not found."})}catch(o){console.error("Login error:",o),s({type:"error",message:"An error occurred during login. Please try again."})}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-4",children:e.jsx("form",{onSubmit:g,className:"w-full max-w-sm",children:e.jsxs("div",{className:"relative backdrop-blur-2xl bg-white/90 border border-white/40 rounded-3xl shadow-2xl overflow-hidden p-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-purple-50/50 pointer-events-none"}),e.jsxs("div",{className:"relative space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx(m,{size:40,className:"text-white"})}),e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Sign in to continue"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center mb-2",children:[e.jsx(m,{size:16,className:"mr-1"}),"Employee ID"]}),e.jsx("input",{type:"text",value:a,onChange:t=>u(t.target.value),className:"w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",placeholder:"e.g., NV001",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center mb-2",children:[e.jsx(S,{size:16,className:"mr-1"}),"Password"]}),e.jsx("input",{type:"password",value:n,onChange:t=>x(t.target.value),className:"w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",placeholder:"Enter your password",required:!0})]})]}),e.jsxs("button",{type:"submit",disabled:i,className:"w-full relative backdrop-blur-xl bg-gradient-to-br from-blue-500 to-purple-600 border border-white/30 rounded-2xl shadow-xl p-4 text-white font-bold disabled:opacity-50 active:scale-95 transition-transform",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none rounded-2xl"}),e.jsx("span",{className:"relative",children:i?"Logging in...":"Login"})]})]})]})})})}export{L as default};
